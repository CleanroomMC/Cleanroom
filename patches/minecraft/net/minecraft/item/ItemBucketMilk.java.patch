--- before/net/minecraft/item/ItemBucketMilk.java
+++ after/net/minecraft/item/ItemBucketMilk.java
@@ -23,6 +23,7 @@
     @Override
     public ItemStack onItemUseFinish(ItemStack stack, World worldIn, EntityLivingBase entityLiving)
     {
+        if (!worldIn.isRemote) entityLiving.curePotionEffects(stack); // FORGE - move up so stack.shrink does not turn stack into air
         if (entityLiving instanceof EntityPlayerMP)
         {
             EntityPlayerMP entityplayermp = (EntityPlayerMP)entityLiving;
@@ -35,11 +36,6 @@
             stack.shrink(1);
         }
 
-        if (!worldIn.isRemote)
-        {
-            entityLiving.clearActivePotions();
-        }
-
         return stack.isEmpty() ? new ItemStack(Items.BUCKET) : stack;
     }
 
@@ -56,6 +52,10 @@
     }
 
     @Override
+    public net.minecraftforge.common.capabilities.ICapabilityProvider initCapabilities(ItemStack stack, net.minecraft.nbt.NBTTagCompound nbt) {
+        return new net.minecraftforge.fluids.capability.wrappers.FluidBucketWrapper(stack);
+    }
+
     public ActionResult<ItemStack> onItemRightClick(World worldIn, EntityPlayer playerIn, EnumHand handIn)
     {
         playerIn.setActiveHand(handIn);
