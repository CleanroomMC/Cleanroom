--- before/net/minecraft/item/crafting/RecipesBanners.java
+++ after/net/minecraft/item/crafting/RecipesBanners.java
@@ -12,12 +12,10 @@
 import net.minecraft.tileentity.TileEntityBanner;
 import net.minecraft.util.NonNullList;
 import net.minecraft.world.World;
-import net.minecraftforge.fml.relauncher.Side;
-import net.minecraftforge.fml.relauncher.SideOnly;
 
 public class RecipesBanners
 {
-    public static class RecipeAddPattern implements IRecipe
+    public static class RecipeAddPattern extends net.minecraftforge.registries.IForgeRegistryEntry.Impl<IRecipe> implements IRecipe
         {
             @Override
             public boolean matches(InventoryCrafting inv, World worldIn)
@@ -74,9 +72,10 @@
                     {
                         ItemStack itemstack2 = inv.getStackInSlot(j);
 
-                        if (itemstack2.getItem() == Items.DYE)
+                        int color = net.minecraftforge.oredict.DyeUtils.rawDyeDamageFromStack(itemstack2);
+                        if (color != -1)
                         {
-                            k = itemstack2.getMetadata();
+                            k = color;
                             break;
                         }
                     }
@@ -117,11 +116,7 @@
                 for (int i = 0; i < nonnulllist.size(); i++)
                 {
                     ItemStack itemstack = inv.getStackInSlot(i);
-
-                    if (itemstack.getItem().hasContainerItem())
-                    {
-                        nonnulllist.set(i, new ItemStack(itemstack.getItem().getContainerItem()));
-                    }
+                    nonnulllist.set(i, net.minecraftforge.common.ForgeHooks.getContainerItem(itemstack));
                 }
 
                 return nonnulllist;
@@ -147,7 +142,7 @@
 
                                 if (!itemstack.isEmpty() && itemstack.getItem() != Items.BANNER)
                                 {
-                                    if (itemstack.getItem() == Items.DYE)
+                                    if (net.minecraftforge.oredict.DyeUtils.isDye(itemstack))
                                     {
                                         if (flag2)
                                         {
@@ -187,7 +182,7 @@
 
                                 if (!itemstack1.isEmpty() && itemstack1.getItem() != Items.BANNER)
                                 {
-                                    if (itemstack1.getItem() != Items.DYE)
+                                    if (!net.minecraftforge.oredict.DyeUtils.isDye(itemstack1))
                                     {
                                         flag = false;
                                         break;
@@ -235,7 +230,6 @@
                 return true;
             }
 
-            @SideOnly(Side.CLIENT)
             @Override
             public boolean canFit(int width, int height)
             {
@@ -243,7 +237,7 @@
             }
         }
 
-    public static class RecipeDuplicatePattern implements IRecipe
+    public static class RecipeDuplicatePattern extends net.minecraftforge.registries.IForgeRegistryEntry.Impl<IRecipe> implements IRecipe
         {
             @Override
             public boolean matches(InventoryCrafting inv, World worldIn)
@@ -347,9 +341,9 @@
 
                     if (!itemstack.isEmpty())
                     {
-                        if (itemstack.getItem().hasContainerItem())
+                        if (itemstack.getItem().hasContainerItem(itemstack))
                         {
-                            nonnulllist.set(i, new ItemStack(itemstack.getItem().getContainerItem()));
+                            nonnulllist.set(i, net.minecraftforge.common.ForgeHooks.getContainerItem(itemstack));
                         }
                         else if (itemstack.hasTagCompound() && TileEntityBanner.getPatterns(itemstack) > 0)
                         {
@@ -369,7 +363,6 @@
                 return true;
             }
 
-            @SideOnly(Side.CLIENT)
             @Override
             public boolean canFit(int width, int height)
             {
