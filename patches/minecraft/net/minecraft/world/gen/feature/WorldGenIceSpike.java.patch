--- before/net/minecraft/world/gen/feature/WorldGenIceSpike.java
+++ after/net/minecraft/world/gen/feature/WorldGenIceSpike.java
@@ -11,7 +11,6 @@
 
 public class WorldGenIceSpike extends WorldGenerator
 {
-    @Override
     public boolean generate(World worldIn, Random rand, BlockPos position)
     {
         while (worldIn.isAirBlock(position) && position.getY() > 2)
@@ -34,29 +33,25 @@
                 position = position.up(10 + rand.nextInt(30));
             }
 
-            for (int k = 0; k < i; k++)
+            for (int k = 0; k < i; ++k)
             {
                 float f = (1.0F - (float)k / (float)i) * (float)j;
                 int l = MathHelper.ceil(f);
 
-                for (int i1 = -l; i1 <= l; i1++)
+                for (int i1 = -l; i1 <= l; ++i1)
                 {
                     float f1 = (float)MathHelper.abs(i1) - 0.25F;
 
-                    for (int j1 = -l; j1 <= l; j1++)
+                    for (int j1 = -l; j1 <= l; ++j1)
                     {
                         float f2 = (float)MathHelper.abs(j1) - 0.25F;
 
-                        if ((i1 == 0 && j1 == 0 || !(f1 * f1 + f2 * f2 > f * f))
-                                && (i1 != -l && i1 != l && j1 != -l && j1 != l || !(rand.nextFloat() > 0.75F)))
+                        if ((i1 == 0 && j1 == 0 || f1 * f1 + f2 * f2 <= f * f) && (i1 != -l && i1 != l && j1 != -l && j1 != l || rand.nextFloat() <= 0.75F))
                         {
                             IBlockState iblockstate = worldIn.getBlockState(position.add(i1, k, j1));
                             Block block = iblockstate.getBlock();
 
-                            if (iblockstate.getMaterial() == Material.AIR
-                                    || block == Blocks.DIRT
-                                    || block == Blocks.SNOW
-                                    || block == Blocks.ICE)
+                            if (iblockstate.getBlock().isAir(iblockstate, worldIn, position.add(i1, k, j1)) || block == Blocks.DIRT || block == Blocks.SNOW || block == Blocks.ICE)
                             {
                                 this.setBlockAndNotifyAdequately(worldIn, position.add(i1, k, j1), Blocks.PACKED_ICE.getDefaultState());
                             }
@@ -66,10 +61,7 @@
                                 iblockstate = worldIn.getBlockState(position.add(i1, -k, j1));
                                 block = iblockstate.getBlock();
 
-                                if (iblockstate.getMaterial() == Material.AIR
-                                        || block == Blocks.DIRT
-                                        || block == Blocks.SNOW
-                                        || block == Blocks.ICE)
+                                if (iblockstate.getBlock().isAir(iblockstate, worldIn, position.add(i1, -k, j1)) || block == Blocks.DIRT || block == Blocks.SNOW || block == Blocks.ICE)
                                 {
                                     this.setBlockAndNotifyAdequately(worldIn, position.add(i1, -k, j1), Blocks.PACKED_ICE.getDefaultState());
                                 }
@@ -90,9 +82,9 @@
                 k1 = 1;
             }
 
-            for (int l1 = -k1; l1 <= k1; l1++)
+            for (int l1 = -k1; l1 <= k1; ++l1)
             {
-                for (int i2 = -k1; i2 <= k1; i2++)
+                for (int i2 = -k1; i2 <= k1; ++i2)
                 {
                     BlockPos blockpos = position.add(l1, -1, i2);
                     int j2 = 50;
@@ -107,19 +99,16 @@
                         IBlockState iblockstate1 = worldIn.getBlockState(blockpos);
                         Block block1 = iblockstate1.getBlock();
 
-                        if (iblockstate1.getMaterial() != Material.AIR
-                                && block1 != Blocks.DIRT
-                                && block1 != Blocks.SNOW
-                                && block1 != Blocks.ICE
-                                && block1 != Blocks.PACKED_ICE)
+                        if (!iblockstate1.getBlock().isAir(iblockstate1, worldIn, blockpos) && block1 != Blocks.DIRT && block1 != Blocks.SNOW && block1 != Blocks.ICE && block1 != Blocks.PACKED_ICE)
                         {
                             break;
                         }
 
                         this.setBlockAndNotifyAdequately(worldIn, blockpos, Blocks.PACKED_ICE.getDefaultState());
                         blockpos = blockpos.down();
+                        --j2;
 
-                        if (--j2 <= 0)
+                        if (j2 <= 0)
                         {
                             blockpos = blockpos.down(rand.nextInt(5) + 1);
                             j2 = rand.nextInt(5);
